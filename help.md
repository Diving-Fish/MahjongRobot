# QQ群日麻机器人完全使用手册

## 牌的代码表示
以下是完整的牌代码对应列表：

牌名称 | 牌代码
----- | -----
1m | 一万 
2m | 二万 
3m | 三万
4m | 四万 
5m | 五万 
6m | 六万 
7m | 七万
8m | 八万 
9m | 九万 
1p | 一筒 
2p | 二筒 
3p | 三筒
4p | 四筒
5p | 五筒 
6p | 六筒 
7p | 七筒 
8p | 八筒 
9p | 九筒 
1s | 一索 
2s | 二索 
3s | 三索  
4s | 四索
5s | 五索
6s | 六索
7s | 七索
8s | 八索
9s | 九索
1z | 东
2z | 南
3z | 西
4z | 北
5z | 白
6z | 发
7z | 中

门前清状态下的牌易于理解，即`123456789s23455p`表示

![image1](images/image1.png) 

在符数和点数计算中，会使用最后一枚手牌作为荣和/自摸牌，上图是**5p**。请务必注意。

副露情况下使用空格隔开，大明杠、加杠使用`5505m`或`5555m`表示。暗杠使用`0330m`、`0550z`进行表示。**数牌5的暗杠会自动加上1枚赤宝牌**。

## 牌理计算

使用`/pl <牌型>`计算向听数和进张。由于使用的是 http://tenhou.net/2/ 的结果，所以有些时候反应会稍慢，还请注意。

牌理的牌数量可以是`3n+1`或`3n+2`枚(n<=4)，不允许副露。牌数量为`3n+1`时，会自动附加一张随机手牌。如果牌的数量超过了14枚，只取前14枚。

例子：
```c
// 13枚
/pl 13569m1223p05s67z

// 14枚
/pl 11233356677998m
```

## 符数计算

单纯的符数计算。使用`/fu <牌型> <0/1>`计算符数。最后的0/1代表是否自摸，自摸为1。

牌型必须为14枚或以上（存在杠子的情况），允许副露。由于使用的是点数计算的接口，符数计算暂无多解，只计算当前牌得点最高情况下的符数。

例子：
```c
// 结果：20（门平摸20符固定）
/fu 234m234p2345677s4s 1

// 结果：120（20+3个中张暗杠48+幺九暗杠32+门清荣和10+单骑2=112，切上120）
/fu 1p1p 0330m 0440p 0550z 0660s 0

// 结果：40（20+幺九暗刻8+坎张2+自摸2=32，切上40）
/fu 45567m11p234s222z6m 1

// 结果：40（因为三色同顺更大，取坎张听牌）
/fu 2233455m345s345p4m 0
```

## 点数计算

综合的点数计算。使用以下的命令计算一副手牌的得点（牌型与附加参数之间需要换行）：

```
/point <牌型>
[附加参数]
```

牌型必须为14枚或以上（存在杠子的情况），允许副露。附加参数使用空格隔开。

所有的附加参数如下：

参数 | 意义
--- | ----
立直 | 立直
双立直 | 双立直
一发 | 一发巡内和牌
自摸 | 自摸和牌，未填写则为荣和
场风x | 指定场风，x可以是东南西北
自风x | 指定自风，x可以是东南西北
宝牌xx（doraxx） | 指定表宝牌，可以输入多张
里宝牌xx（uraxx） | 指定里宝牌，可以输入多张
海底 | 海底自摸和
河底 | 河底荣和
枪杠（抢杠） | 抢杠和
岭上 | 岭上开花和牌
天和 | 天和
地和 | 地和

例子：

```c
/point 123456789m2377s4s
立直 一发 自摸 宝牌4m 里宝牌7s 自风西 场风南

/*
结果：
立直                        1番
一发                        1番
门前清自摸和                 1番
平和                        1番
一气通贯                    2番
宝牌                        1番
里宝牌                      2番
20符9番
4000-8000
*/
```

```c
/point 23405m46p5p 444s 567s
宝牌4m 里宝牌4z 自风东 场风东

/*
结果：
断幺九                    1番
宝牌                      1番
赤宝牌                    1番
30符3番
5800
*/
```

亲家、子家由附加参数中的**自风**决定，是否自摸得点由附加参数中的**自摸**决定。

**默认情况下**，自风场风均为东，宝牌和里宝牌不计，和牌为荣和，不计所有偶然役。

## Contact

如需联系作者，可以直接联系QQ 2300756578。
现阶段免费提供给所有QQ群使用。
